[package]
name = "ate"
version = "0.9.0"
authors = ["Johnathan Sharratt <johnathan.sharratt@gmail.com>"]
edition = "2018"
description = "Distributed immutable data store with strong encryption and authentication"
license = "MIT OR Apache-2.0"
keywords = ["immutable", "database", "crypto", "nosql", "async"]
categories = ["asynchronous", "caching", "cryptography", "database-implementations"]
repository = "https://github.com/john-sharratt/ate"
readme = "../README.md"

[features]
default = [ "enable_basics" ]
enable_verbose = []
enable_super_verbose = [ "backtrace", "enable_verbose" ]
enable_openssl = []
enable_buffered = []
enable_local_fs = []
enable_rotate = []
enable_caching = []
enable_ws = []
enable_basics = [ "enable_buffered", "enable_local_fs", "enable_rotate", "enable_caching", "enable_ws" ]
enable_x86 = [ "openssl", "tokio-tungstenite", "tokio", "pnet", "hyper", "hyper-tls", "backtrace", "trust-dns-proto", "trust-dns-client" ]
client_wasm = [ ]
client = [ "enable_x86" ]
server = [ "enable_x86" ]

[dependencies]
uuid = { version = "^0.8", features = ["serde", "v4"] }
serde = { version = "^1", features = ["derive"] }
serde_json = "^1"
rmp = "^0.8"
rmp-serde = "^0.15"
derive-new = "^0.5"
bytes = "^1"
futures = "^0.3"
futures-util = "^0.3"
hash = "^0.3"
fxhash = "^0.2"
async-trait = "^0.1"
fastrand = "^1"
rand = "^0.8"
rand_chacha = "^0.3"
snap = "^1"
once_cell = "^1"
sha3 = "^0.9"
multimap = "^0.8"
hex = "^0.4"
chrono = "^0.4"
log = { version = "^0.4", features = [ "release_max_level_info" ] }
cached = "^0.23"
parking_lot = "^0.11"
env_logger = "^0.8"
bincode = "^1"
async-executor = "^1"
url = { version = "^2", features = ["serde"] }
btreemultimap = { version = "^0.1" }
base64 = "^0.13"
num_enum = "^0.5"
pqcrypto-falcon = { git = "https://github.com/john-sharratt/pqcrypto-wasi.git" }
pqcrypto-ntru = { git = "https://github.com/john-sharratt/pqcrypto-wasi.git" }
pqcrypto-traits = { git = "https://github.com/john-sharratt/pqcrypto-wasi.git" }
http = { version = "^0.2" }
aes = { version = "^0.7" }
ctr = { version = "^0.8" }

[target.'cfg(target_arch = "wasm32")'.dependencies]
tokio = { version = "^1", features = [ "rt", "sync" ] }
ws_stream_wasm = { version = "^0.7", features= [ "tokio_io" ] }

[target.'cfg(not(target_arch = "wasm32"))'.dependencies]
tokio = { version = "^1", features = ["full", "signal", "process"], optional = true }
pnet = { version = "^0.27", optional = true }
trust-dns-proto = { version = "^0.20", optional = true }
trust-dns-client = { version = "^0.20", features = ["dnssec"], optional = true }
hyper = { version = "^0.14", features = ["full"], optional = true }
hyper-tls = { version = "^0.5", optional = true }
tokio-tungstenite = { version = "^0.14", optional = true }
backtrace = { version = "^0.3", optional = true }
openssl = { version = "^0.10", features = ["vendored"], optional = true }

[dev-dependencies]
ctor = "0.1.*"
rust_decimal = "1.10.*"
names = "0.11.*"
